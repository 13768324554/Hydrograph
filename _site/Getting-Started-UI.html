<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>Hydrograph - Local Development Install</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<!-- Le scripts -->
<script src="/Hydrograph/assets/js/jquery-1.11.3.min.js">
</script>
<!-- Le styles -->
<link href="/Hydrograph/assets/css/bootstrap.css" rel="stylesheet">
<style>
  body { padding-top: 60px; /* 60px to make the container go all the way
  to the bottom of the topbar */ }
</style>
<link href="/Hydrograph/assets/css/bootstrap-responsive.css" rel="stylesheet">
<link href="/Hydrograph/assets/css/docs.css" rel="stylesheet">
<link href="/Hydrograph/assets/css/main.css" rel="stylesheet">
<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js">
  </script>
<![endif]-->
<!-- Le fav and touch icons -->
<!--     <link rel="shortcut icon" href="/Hydrograph/assets/ico/favicon.ico">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/Hydrograph/assets/ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/Hydrograph/assets/ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/Hydrograph/assets/ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="/Hydrograph/assets/ico/apple-touch-icon-57-precomposed.png"> -->

  </head>
  <body>
    <!--<a href="https://github.com/driftyco/jetstrap-docs"><img style="position: absolute; z-index: 10000; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>-->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a href="/Hydrograph/" class="brand"><img src="/Hydrograph/assets/img/C1_OSLogo_Hydrograph_RGB_FullColor_solo.svg"></a>
          <ul class="nav pull-right">
            <!-- <li><a href="http://jetstrap.com/">Jetstrap</a></li> -->
            <!-- <li><a href="http://jetstrap.com/#about">About</a></li> -->
            <!--<li><a href="http://jetstrap.com/#love">Love</a></li>-->
            <!-- <li><a href="http://blog.jetstrap.com/" target="_blank">Blog</a></li> -->
            <li><a href="https://github.com/capitalone/Hydrograph/" target="_blank">Check out the code!</a></li>
            <!-- <li style="line-height: 59px; vertical-align: middle"><a href="http://jetstrap.com/" class="orange-button">Sign up free</a></li> -->
          </ul>
        </div>
      </div>
    </div>
    <div class="container main-container">
      <div class="row">
        <div class="nav-container col-md-2">
          <ul id="menu" class="nav nav-list">
          
    
    

    
        
            <li class="nav-header">ABOUT</li>
        
        <li data-section="overview" data-order="1"><a href="/Hydrograph/overview">Overview</a></li>
    
        
        <li data-section="faq" data-order="3"><a href="/Hydrograph/faq">FAQ</a></li>
    
        
        <li data-section="architecture" data-order="2"><a href="/Hydrograph/architecture">Internal Architecture</a></li>
    

    
    

    
        
            <li class="nav-header">GETTING STARTED</li>
        
        <li data-section="deploy-engine" data-order="2"><a href="/Hydrograph/deploy-remote">Remote Execution Setup</a></li>
    
        
        <li data-section="getting-started" data-order="1"><a href="/Hydrograph/Getting-Started-UI">Local Development Install</a></li>
    

    
    

    

    
    

    

    
    

    
        
            <li class="nav-header">CONTRIBUTING</li>
        
        <li data-section="getting-started" data-order="1"><a href="/Hydrograph/architecture">High Level Architecture</a></li>
    

    
    

    

<li class="divider"></li>

          </ul>
        </div>
        <div class="content-container col-md-10">
          <div class="page-header">
  <h1>Install Hydrograph UI for Local Development</h1>
</div>

<p>This section will guide you through the setup of the Hydrograph UI on your local machine. Once you have Hydrograph installed on your local machine you’ll
be able to use all of Hydrograph’s features to execute jobs locally. This set of installation instructions is recommended for people who are just getting
started with Hydrograph.</p>

<p><a href="#pre-requisites">1. Pre-requisites</a><br />
<a href="#build">2. Build Hydrograph UI Executable</a><br />
<a href="#launch-UI">3. Launching Hydrograph UI</a><br />
<a href="#hgConfig">4. Hydrograph Configuration</a><br /></p>

<hr />

<p><a name="pre-requisites"></a></p>
<h2 id="1-pre-requisites">1. Pre-requisites</h2>

<p>Before setting up the Hydrograph UI on your local machine you’ll need to make sure you have the following items installed:</p>

<ul>
  <li>JDK 1.8.xx 64 bit (<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">download</a>)
    <ul>
      <li>Set the environment variable <strong>JAVA_HOME</strong> to the JDK 1.8 installation</li>
      <li>If you have multiple Java installations, update the <strong>PATH</strong> variable and add <strong>$JAVA_HOME/bin</strong></li>
    </ul>
  </li>
  <li>Gradle 3.0+ (<a href="https://gradle.org/gradle-download/">download</a>)
    <ul>
      <li>Add the Gradle installation path to the <strong>PATH</strong> variable.</li>
    </ul>
  </li>
  <li>Maven 3.x (<a href="http://maven.apache.org/download.cgi">download</a>)
    <ul>
      <li>Add the Maven installation path to the <strong>PATH</strong> variable.</li>
    </ul>
  </li>
</ul>

<p>If you’re behing a proxy, you’ll likely need to set up some additional configuration files. See the <a href="#hgConfig">Configuratoin</a> at
the bottom of the page.</p>

<hr />

<p><a name="build"></a></p>
<h2 id="2-build-hydrograph-ui-executable">2. Build Hydrograph UI Executable</h2>

<p>The Hydrograph code base consists of three components - the engine, the server, and the UI. Since the Hydrograph UI relies on both the server
and engine components, we’ll start by building these projects.</p>

<h3 id="a-download-the-source-code-from-github">a. Download the source code from Github</h3>
<p>Please download the latest source code from the master branch of <a href="https://github.com/capitalone/Hydrograph">GitHub</a>.If you download the 
source code as a zip file, you will require to extract the zip file on your environment.</p>

<h3 id="b-build-the-engine-project">b. Build the Engine project</h3>
<p>Once you’ve dowloaded the code, change the directory to <strong>hydrograph.engine</strong> and execute the following command to build the engine component:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gradle build
</code></pre>
</div>

<p>This will build the the project and create the required JARs. You can verify that the JARs are present at following relative paths:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>hydrograph.engine/hydrograph.engine.command-line/build/libs
hydrograph.engine/hydrograph.engine.core/build/libs
hydrograph.engine/hydrograph.engine.expression/build/libs
hydrograph.engine/hydrograph.engine.spark/build/libs
hydrograph.engine/hydrograph.engine.transformation/build/libs
</code></pre>
</div>

<p>After verifying that the JAR files are present, you can install the project in your local Maven repository:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gradle install
</code></pre>
</div>

<p>Once you complete this step, you can observe that the engine jars will be installed in .m2 directory at the following path:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">User</span><span class="w"> </span><span class="err">Home</span><span class="w"> </span><span class="err">Directory</span><span class="p">}</span><span class="err">/.m</span><span class="mi">2</span><span class="err">/repository/Hydrograph</span><span class="w">
</span></code></pre>
</div>

<h3 id="c-build-the-server-project">c. Build the Server project</h3>

<p>The hydrograph.server project consists of two different services - the execution tracking service which is used to report the 
status of each component, and the debug service which allows developers to view data at each watch point.</p>

<h4 id="i-execution-tracking-service">i. Execution tracking service</h4>
<p>Navigate to the directory <strong>hydrograph.server/hydrograph.server.execution.tracking</strong> and perform the following commands to build
the execution tracking service:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mvn clean install
</code></pre>
</div>

<p>Just as with the engine, this creates the required JARs. You can verify that JAR files have been created in the following directory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>hydrograph.server/hydrograph.server.execution.tracking/target/
</code></pre>
</div>

<p>The <code class="highlighter-rouge">mvn install</code> command also takes care of moving the JAR files to our local Maven repository. We can verify that the JARs are in our
local Maven repo by navigating to:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">User</span><span class="w"> </span><span class="err">Home</span><span class="w"> </span><span class="err">Directory</span><span class="p">}</span><span class="err">/.m</span><span class="mi">2</span><span class="err">/repository/hydrograph</span><span class="w">
</span></code></pre>
</div>

<h4 id="ii-hydrograph-debug-service">ii. Hydrograph debug service</h4>

<p>To install the debug service navigate to the directory <strong>hydrograph.server/hydrograph.server.debug</strong> and build the 
project using the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gradle build
</code></pre>
</div>

<p>Just as with our previous build steps, we can verify that the artifacts have been created by navigating to the following directory</p>

<div class="highlighter-rouge"><pre class="highlight"><code>hydrograph.server/hydrograph.server.debug/build/
</code></pre>
</div>

<p>Once we’ve verified that the artifacts are present we can install them in our local Maven repo.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gradle install
</code></pre>
</div>

<p>After installing the jars will be in the local Maven repository under the Hydrograph project.</p>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">Uswr</span><span class="w"> </span><span class="err">Home</span><span class="w"> </span><span class="err">Directory</span><span class="p">}</span><span class="err">/.m</span><span class="mi">2</span><span class="err">/repository/Hydrograph</span><span class="w">
</span></code></pre>
</div>

<h3 id="d-build-the-ui-project">d. Build the UI project</h3>
<p>In order to successfully build the UI, we’ll need to make sure that the artifacts created in the previous steps are in the proper
location for use by the UI. Navigate to the top level project directory <strong>Hydrograph/</strong> and issue the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gradle copyLibs
</code></pre>
</div>

<p>Now we can go ahead and build the UI by issuing the command below:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mvn clean install
</code></pre>
</div>

<p>After a successful build, an operating System (Windows, Mac OS, etc.) specific Hydrograph IDE will be available under below relative path:
<strong>/hydrograph.ui/hydrograph.ui.product/target/products/hydrograph.ui.perspective.ID</strong></p>

<hr />
<p><a name="launch-UI"></a></p>

<h2 id="3-launching-hydrograph-ui">3. Launching Hydrograph UI</h2>

<h4 id="31a-windows-users">3.1a. Windows users</h4>

<ol>
  <li>Navigate to <strong>/hydrograph.ui/hydrograph.ui.product/target/products/hydrograph.ui.perspective.ID</strong></li>
  <li>Launch through hydrograph.exe</li>
</ol>

<h4 id="31b-mac-users">3.1b. Mac users</h4>

<ol>
  <li>Navigate to <strong>/hydrograph.ui/hydrograph.ui.product/target/products/hydrograph.ui.perspective.ID</strong></li>
  <li>Right click Hydrograph_build_date_Mac file that was just extracted</li>
  <li>Select “Show Package Contents”</li>
  <li>Launch Hydrograph from Contents/MacOS/Config/Hydrograph</li>
</ol>

<h4 id="32-validate-java">3.2. Validate Java</h4>

<p>Once Hydrograph is launched, verify that the selected Java JRE matches the JAVA_HOME environment variable. 
From the top menu bar select Window-&gt; Preference -&gt; Java -&gt; Installed JREs</p>

<hr />

<p><a name="hgConfig"></a></p>
<h2 id="4-configuration">4. Configuration</h2>
<p>If you wish to use a different repository to download Hydrograph dependencies, you will have to update the repository URLs in the default pom.xml or build.gradle &amp; common.gradle.
A change in these files will ensure that any new projects that you create within the UI will have the correct configuration files.</p>

<h4 id="41-updating-configurations-in-windows-builds--">4.1 Updating configurations in Windows builds -</h4>
<p>The Gradle configuration files on Windows builds can be found at - <strong>&lt;Hydrograph_UI_path&gt;\config\gradle\build</strong> <br />
The Maven configuration file can be found at - <strong>&lt;Hydrograph_UI_path&gt;\config\maven</strong></p>

<h4 id="42-updating-configurations-in-mac-builds--">4.2 Updating configurations in Mac builds -</h4>
<p>The Gradle configuration files in Mac builds can be found at <strong>&lt;Hydrograph_UI_path&gt;/Contents/Eclipse/config/gradle/build</strong> <br />
The Maven configuration files can be found at <strong>&lt;Hydrograph_UI_path&gt;/Contents/Eclipse/config/maven</strong></p>

<h4 id="43-proxy-configuration">4.3 Proxy Configuration</h4>
<p>If your behind a proxy, it’s possible that you’ll need to configure some additional files for Gradle and Maven to
properly download dependencies.</p>

<p>For Gradle you’ll need to create a <code class="highlighter-rouge">gradle.properties</code> file that contains information on the proxy server. Gradle will look for 
this file in the directory defined by the <strong>$GRADLE_USER_HOME</strong> environment variable.</p>

<p>On Linux and Mac we suggest setting the <strong>$GRADLE_USER_HOME</strong> in  your ~/.profile as the user’s home directory.</p>

<p>On Windows TODO</p>

<p>Once you’ve set the environment variable and created the file be sure to configure the following properties in the file</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">systemProp</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">proxyHost</span><span class="o">=&lt;</span><span class="n">proxyHostname</span><span class="o">&gt;</span>
<span class="n">systemProp</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">proxyPort</span><span class="o">=&lt;</span><span class="n">proxyPortNum</span><span class="o">&gt;</span>
<span class="n">systemProp</span><span class="o">.</span><span class="na">https</span><span class="o">.</span><span class="na">proxyHost</span><span class="o">=&lt;</span><span class="n">proxyHostname</span><span class="o">&gt;</span>
<span class="n">systemProp</span><span class="o">.</span><span class="na">https</span><span class="o">.</span><span class="na">proxyPort</span><span class="o">=&lt;</span><span class="n">proxyPortNum</span><span class="o">&gt;</span>
</code></pre>
</div>


        </div>
      </div>
    </div>

    <style>

    </style>
    <script src="/Hydrograph/assets/js/bootstrap.js">
    </script>
    <script>
      function orderNav() {
          var list,
              section,
              header,
              sections = [],
              lists = {},
              headers = {};
          var navUl = document.querySelectorAll('#menu')[0],
              navLis = document.querySelectorAll('#menu li');
          if (!navUl) return;
          for (var i = 0; i < navLis.length; i++) {
              var order, li = navLis[i];
              if (li.classList.contains('nav-header')) {
                  section = li.textContent || li.innerText;
                  sections.push(section);
                  headers[section] = li;
                  continue;
              }
              if (!lists[section]) {
                  lists[section] = [];
              }
              order = parseFloat(li.getAttribute('data-order'))
              lists[section].push([order, li]);
          }
          for (var i = 0; i < sections.length; i++) {
              section = sections[i];
              list = lists[section].sort(function(a, b) {
                  return a[0] - b[0];
              });
              if (header = headers[section]) {
                  navUl.appendChild(header);
              }
              for (var j = 0; j < list.length; j++) {
                  navUl.appendChild(list[j][1]);
              }
          }
      }
      if (document.querySelectorAll) orderNav();
    </script>

    <script>
      $('#menu [data-section="getting-started"]').addClass('active');
    </script>

    <link href="/Hydrograph/assets/css/main.css" rel="stylesheet">
<footer style="footer"> Powered by Capital One - Enterprise Data Services </footer>

  </body>
</html>
